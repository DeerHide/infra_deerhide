## traefik.yml

entryPoints:
  web:
    address: :80
  websecure:
    address: :443
certificatesResolvers:
  cloudflare:
    acme:
      email: letsencrypt@deerhide.run
      storage: /etc/traefik/acme.json
      dnsChallenge:
        provider: cloudflare
        delayBeforeCheck: 0

# Traefik dynamic configuration when needed/defined (otherwise handled with containers' labels)
providers:
  docker: {}
{% if traefik_file_provider_config is defined and traefik_file_provider_config.strip() != "" %}
  {{ traefik_file_provider_config | indent(2) }}
{% endif %}

# API and dashboard configuration
api:
  insecure: true
